@model IEnumerable<MenuProjesi.Models.Categories> 

@{
    ViewData["Title"] = "Kategoriler";
}


<div class="container my-5">
    <h2 class="mb-4">Kategoriler</h2>
    <div class="accordion" id="categoriesAccordion">
        @foreach (var category in Model)
        {
            <div class="accordion-item">
                <h2 class="accordion-header" id="heading@category.Id">
                    <button class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapse@category.Id"
                            aria-expanded="false"
                            aria-controls="collapse@category.Id">
                        @category.CategoryName
                    </button>
                </h2>
                <div id="collapse@category.Id"
                     class="accordion-collapse collapse"
                     aria-labelledby="heading@category.Id"
                     data-bs-parent="#categoriesAccordion">
                    <!-- Bu satır çok önemli -->
                    <div class="accordion-body">
                        @if (category.Products != null && category.Products.Any())
                        {
                            <ul>
                                @foreach (var p in category.Products)
                                {
                                    <li>
                                        <strong>@p.Name</strong> - @p.Description - @p.Price

                                        @if (!string.IsNullOrEmpty(p.ImagePath))
                                        {
                                            <br />
                                            <img src="@p.ImagePath" alt="@p.Name Görseli" width="80" />
                                        }
                                    </li>
                                }
                            </ul>
                        }
                        else
                        {
                            <p>Bu kategoride ürün yok.</p>
                        }
                    </div>

                </div>
            </div>
        }
    </div>
</div>



